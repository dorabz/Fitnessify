{% extends "users/base.html" %}
{% load static %}
{% block content %}
{% block title %}
<title>Recipes</title>
{% endblock  %}
<div class="container p-5 my-3 border">

    <legend class="border-bottom mb-4">My recipes</legend>
    {% if user.is_authenticated %}
    <a class="btn btn-outline-success" href="{% url 'recipe_create' %}">New recipe</a>
    {% endif %}

 <hr>

    <form class="add_your_class" method="GET" action="" >
      <input type="search" name="search" class="form-control" placeholder="Search" > 
      <br>
      <button class="btn btn-info" type="submit"> Search </button>
  </form>
   

  <hr>
    <ul class="list-group">
      {% for recipe in recipes %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        {{recipe}}
        <a id="recipe_details" class="btn btn-outline-info">View details</a>
        <div id="show_details"  style="display: none;">
            {{recipe.recipe_description}}
        </div>
      </li>
      {% empty %}
      <li>No recipes.</li>
      {% endfor %}
    </ul>

    <hr>

    {% if is_paginated %}
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-end">
        {% if page_obj.has_previous %}
        <li class="page-item">
          <a class="page-link" href="?page={{ page_obj.previous_page_number }}" tabindex="-1">Previous</a>
        </li>
        {% endif %}
        {% for  page_obj in page_obj.paginator %}
        <li class="page-item"><a class="page-link" href="?page={{ page_obj.number }}">{{ page_obj.number }}</a></li>
        {% endfor %}
        {% if page_obj.has_next %}
        <li class="page-item">
          <a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a>
        </li>
        {% endif %}
      </ul>

      {% endif %}
    </nav>
</div>


{% block javascript %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">
    $(document).ready(
    function(){
        $("#recipe_details").click(function () {
            $("#show_details").toggle();
        });
    });
</script>
{% endblock %}
{% endblock %}
